<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20151020" />
    <meta http-equiv="Content-Language" content="en" />
    <title>npmpack-maven-plugin - 
    npmpack:node_modules</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

                          
        
<link rel="shortcut icon" href="favicon-32.ico"/>
          
                  </head>
        <body class="topBarEnabled">
          
                        
                    
                

    <div id="topbar" class="navbar navbar-fixed-top navbar-inverse">
      <div class="navbar-inner">
                                  <div class="container"><div class="nav-collapse">
            
                
                                            <a class="brand" href="http://code.kozelka.net/index.html"  title="code.kozelka.net">

                                
                                    code
                
                </a>
                    
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Overview">Overview</a>
</li>
                  
                      <li>      <a href="plugin-info.html"  title="Goals">Goals</a>
</li>
                  
                      <li>      <a href="features.html"  title="Features">Features</a>
</li>
                  
                      <li class="dropdown-submenu">
                                      <a href="usage.html"  title="Usage">Usage</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="grunt.html"  title="Embedding grunt build">Embedding grunt build</a>
</li>
                                  <li>      <a href="tar.html"  title="Using TAR to compress data">Using TAR to compress data</a>
</li>
                                  <li>      <a href="best-practices.html"  title="Recommended configuration">Recommended configuration</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="usage.html"  title="TODO">TODO</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="publish-npm.html"  title="Goal 'deploy' to publish artifacts for sharing">Goal 'deploy' to publish artifacts for sharing</a>
</li>
                                  <li>      <a href="faster-unzip.html"  title="Using faster external unzip">Using faster external unzip</a>
</li>
                                  <li>      <a href="archetypes.html"  title="Using npmpack archetypes">Using npmpack archetypes</a>
</li>
                                  <li>      <a href="samples.html"  title="Sample projects">Sample projects</a>
</li>
                                  <li>      <a href="bower.html"  title="Bower">Bower</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                                  <li>      <a href="team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                                  <li>      <a href="license.html"  title="Project License">Project License</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="plugin-info.html"  title="Plugin Documentation">Plugin Documentation</a>
</li>
                                  <li>      <a href="xref/index.html"  title="Source Xref">Source Xref</a>
</li>
                                  <li>      <a href="xref-test/index.html"  title="Test Source Xref">Test Source Xref</a>
</li>
                                  <li>      <a href="cobertura/index.html"  title="Cobertura Test Coverage">Cobertura Test Coverage</a>
</li>
                                  <li>      <a href="pmd.html"  title="PMD">PMD</a>
</li>
                                  <li>      <a href="findbugs.html"  title="FindBugs Report">FindBugs Report</a>
</li>
                                  <li>      <a href="changes-report.html"  title="Changes Report">Changes Report</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Links <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="https://github.com/pkozelka/npmpack-maven-plugin"  title="Fork me on GitHub">Fork me on GitHub</a>
</li>
                  
                      <li>      <a href="http://www.apache.org/"  title="Apache">Apache</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/"  title="Maven 2">Maven 2</a>
</li>
                          </ul>
      </li>
                  </ul>
          
          
                                              
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

        <ul class="nav pull-right"><li style="margin-top: 10px;">
    
    <div class="g-plusone" data-href="http://code.kozelka.net/npmpack-maven-plugin" data-size="medium"  width="60px" align="right" ></div>

        </li></ul>
                                            
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2></h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="index.html" title="npmpack-maven-plugin">
        npmpack-maven-plugin</a>
                    <span class="divider">Â»</span>
      </li>
        <li class="active ">
    npmpack:node_modules</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2015-10-20</li>
              <li id="projectVersion" class="pull-right">
                    Version: 1.0-SNAPSHOT
        </li>
            
                            </ul>
      </div>

      
                        
        <div id="bodyColumn" >
                                  
            
  
    <div class="section">
<h2>npmpack:node_modules<a name="npmpack:node_modules"></a></h2>
      
<p><b>Full name</b>:</p>
      
<p>net.kozelka.maven:npmpack-maven-plugin:1.0-SNAPSHOT:node_modules</p>
      
<p><b>Description</b>:</p>
      
<div>Prepares the <tt>node_modules</tt> directory. 

<p>If it exists, uses MD5 hash of the package.json file is used to
determine if its contents should be updated from &quot;npm install&quot;.</p>

<p>If it does not exist, unpacks it from an archive within maven
repository. If that does not exist, uses &quot;npm install&quot; to produce
it.</p></div>
      
<p><b>Attributes</b>:</p>
      
<ul>
        
<li>Requires a Maven project to be executed.</li>
        
<li>The goal is thread-safe and supports parallel builds.</li>
        
<li>Binds by default to the <a class="externalLink" href="http://maven.apache.org/ref/current/maven-core/lifecycles.html">lifecycle phase</a>: <tt>compile</tt>.</li>
      </ul>
      
<div class="section">
<h3>Required Parameters<a name="Required_Parameters"></a></h3>
        
<table class="table table-striped" border="0">
          
<tr class="a">
            
<th>Name</th>
            
<th>Type</th>
            
<th>Since</th>
            
<th>Description</th>
          </tr>
          
<tr class="b">
            
<td><b><a href="#allowNpmInstall">allowNpmInstall</a></b></td>
            
<td><tt>boolean</tt></td>
            
<td><tt>-</tt></td>
            
<td>Enable this flag to allow the <tt>npm install</tt> command. By
default, this is disabled, because this command downloads from
(potentially) many internet sites, which would make the build very.
Therefore, whenever this is needed - which means, when
<tt>package.json</tt> is changed - the developer is supposed to
manually run the build with this flag turned on, and ideally deploy
the resulting artifact into the maven repository. Then the
subsequent builds are free of uncontrolled internet access and thus
more reliable and deterministic.<br /><b>Default value is</b>: <tt>false</tt>.<br /><b>User property is</b>: <tt>npmpack.allowNpmInstall</tt>.</td>
          </tr>
          
<tr class="a">
            
<td><b><a href="#anonymize">anonymize</a></b></td>
            
<td><tt>boolean</tt></td>
            
<td><tt>-</tt></td>
            
<td>
<p>If set, the computed checksum is performed on top of anonymized
package.json file; this is useful when working with multiple
modules with equal dependencies, as it ensures that they share the
same cached artifact.</p>

<p>If unset, only line endings are normalized to LF prior to
checksum.</p>

<p><b>Anonymization</b> is a simple process which replaces
properties that identify the module with neutral identification;
currently it is string &quot;ANONYMIZED&quot; in properties &quot;name&quot; and
&quot;version&quot;. Note that the package.json is also sorted (properties by
name, recursively) and pretty-printed, so that all insignificant
differences are eliminated.</p>
The file <tt>node_modules/package.json</tt> always c<br /><b>Default value is</b>: <tt>true</tt>.<br /></td>
          </tr>
          
<tr class="b">
            
<td><b><a href="#archiveType">archiveType</a></b></td>
            
<td><tt>String</tt></td>
            
<td><tt>-</tt></td>
            
<td>Type of the resulting archive. Can be one of &quot;zip&quot;, &quot;tgz&quot;,
&quot;tar.gz&quot;.<br /><b>Default value is</b>: <tt>zip</tt>.<br /></td>
          </tr>
          
<tr class="a">
            
<td><b><a href="#basedir">basedir</a></b></td>
            
<td><tt>File</tt></td>
            
<td><tt>-</tt></td>
            
<td>Current project directory. Used internally to run grunt from the
module's directory.<br /><b>Default value is</b>: <tt>${basedir}</tt>.<br /></td>
          </tr>
          
<tr class="b">
            
<td><b><a href="#binaryArtifactId">binaryArtifactId</a></b></td>
            
<td><tt>String</tt></td>
            
<td><tt>-</tt></td>
            
<td>The artifactId to use for caching in maven repositories. 

<p>Recommended use: do not change</p><br /><b>Default value is</b>: <tt>node_modules</tt>.<br /></td>
          </tr>
          
<tr class="a">
            
<td><b><a href="#binaryGroupId">binaryGroupId</a></b></td>
            
<td><tt>String</tt></td>
            
<td><tt>-</tt></td>
            
<td>The groupId under which to cache the npm artifacts in the
repository. 

<p>Recommended use: preferably, do not change; but if you have a
reason to do so, define once per whole project (or company), inside
parent pom's pluginManagement.</p><br /><b>Default value is</b>: <tt>npmpack</tt>.<br /></td>
          </tr>
          
<tr class="b">
            
<td><b><a href="#node_modules">node_modules</a></b></td>
            
<td><tt>File</tt></td>
            
<td><tt>-</tt></td>
            
<td>Pointer to node_modules directory. 

<p>Recommended use: do not change if you wish to use npm-based
tools from commandline as well. Otherwise it might be practical to
change this to &quot;${project.build.directory}/node_modules&quot;.</p><br /><b>Default value is</b>: <tt>node_modules</tt>.<br /></td>
          </tr>
          
<tr class="a">
            
<td><b><a href="#npmExecutables">npmExecutables</a></b></td>
            
<td><tt>String</tt></td>
            
<td><tt>-</tt></td>
            
<td>The executable to run as NPM. By default, we expect that it is
available on PATH.<br /><b>Default value is</b>: <tt>npm,npm.cmd</tt>.<br /><b>User property is</b>: <tt>npm.executable</tt>.</td>
          </tr>
          
<tr class="b">
            
<td><b><a href="#npmInstallNotAllowedMsg">npmInstallNotAllowedMsg</a></b></td>
            
<td><tt>String</tt></td>
            
<td><tt>-</tt></td>
            
<td>(no description)<br /><b>Default value is</b>: <tt>To generate new npmpack, please add option '-Dnpmpack.allowNpmInstall' to your commandline. Remember to upload the resulting pom and binary to your nearest maven repository, so that other users do not need to do the same.</tt>.<br /><b>User property is</b>: <tt>npmpack.allowNpmInstall</tt>.</td>
          </tr>
          
<tr class="a">
            
<td><b><a href="#packageJson">packageJson</a></b></td>
            
<td><tt>File</tt></td>
            
<td><tt>-</tt></td>
            
<td>Pointer to package.json file. 

<p>Recommended use: do not change</p><br /><b>Default value is</b>: <tt>package.json</tt>.<br /></td>
          </tr>
          
<tr class="b">
            
<td><b><a href="#workdir">workdir</a></b></td>
            
<td><tt>File</tt></td>
            
<td><tt>-</tt></td>
            
<td>Pointer to the build's working directory.<br /><b>Default value is</b>: <tt>${project.build.directory}</tt>.<br /></td>
          </tr>
        </table>
      </div>
      
<div class="section">
<h3>Optional Parameters<a name="Optional_Parameters"></a></h3>
        
<table class="table table-striped" border="0">
          
<tr class="a">
            
<th>Name</th>
            
<th>Type</th>
            
<th>Since</th>
            
<th>Description</th>
          </tr>
          
<tr class="b">
            
<td><b><a href="#unzipCommand">unzipCommand</a></b></td>
            
<td><tt>String</tt></td>
            
<td><tt>-</tt></td>
            
<td>
<p>If specified, npmpack uses this external command to unpack the
binary, instead of internal (java-based) implementation. The
purpose is to allow for a faster unzip if one is available on the
given system.</p>

<p>The command is expected (but not strictly checked to) include
two <tt>%s</tt> placeholders, first for source archive file,
second for the target directory. For example:</p>

<ul>

<li>unzip %s -d %s</li>

<li>C:/bin/unzip.exe -q %s -d %s</li>
</ul>

<p>Method <tt>String.format()</tt> is used to interpolate these
placeholders; feel free to use any of its tricks to achieve desired
results</p>
Note that paths with spaces in them can cause problems due to
escaping.<br /><b>User property is</b>: <tt>npmpack.unzip</tt>.</td>
          </tr>
        </table>
      </div>
      
<div class="section">
<h3>Parameter Details<a name="Parameter_Details"></a></h3>
        
<p><b><a name="allowNpmInstall">allowNpmInstall</a>:</b></p>
        
<div>Enable this flag to allow the <tt>npm install</tt> command. By
default, this is disabled, because this command downloads from
(potentially) many internet sites, which would make the build very.
Therefore, whenever this is needed - which means, when
<tt>package.json</tt> is changed - the developer is supposed to
manually run the build with this flag turned on, and ideally deploy
the resulting artifact into the maven repository. Then the
subsequent builds are free of uncontrolled internet access and thus
more reliable and deterministic.</div>
        
<ul>
          
<li><b>Type</b>: <tt>boolean</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>User Property</b>: <tt>npmpack.allowNpmInstall</tt></li>
          
<li><b>Default</b>: <tt>false</tt></li>
        </ul><hr />
<p><b><a name="anonymize">anonymize</a>:</b></p>
        
<div>
<p>If set, the computed checksum is performed on top of anonymized
package.json file; this is useful when working with multiple
modules with equal dependencies, as it ensures that they share the
same cached artifact.</p>

<p>If unset, only line endings are normalized to LF prior to
checksum.</p>

<p><b>Anonymization</b> is a simple process which replaces
properties that identify the module with neutral identification;
currently it is string &quot;ANONYMIZED&quot; in properties &quot;name&quot; and
&quot;version&quot;. Note that the package.json is also sorted (properties by
name, recursively) and pretty-printed, so that all insignificant
differences are eliminated.</p>
The file <tt>node_modules/package.json</tt> always c</div>
        
<ul>
          
<li><b>Type</b>: <tt>boolean</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>Default</b>: <tt>true</tt></li>
        </ul><hr />
<p><b><a name="archiveType">archiveType</a>:</b></p>
        
<div>Type of the resulting archive. Can be one of &quot;zip&quot;, &quot;tgz&quot;,
&quot;tar.gz&quot;.</div>
        
<ul>
          
<li><b>Type</b>: <tt>java.lang.String</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>Default</b>: <tt>zip</tt></li>
        </ul><hr />
<p><b><a name="basedir">basedir</a>:</b></p>
        
<div>Current project directory. Used internally to run grunt from the
module's directory.</div>
        
<ul>
          
<li><b>Type</b>: <tt>java.io.File</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>Default</b>: <tt>${basedir}</tt></li>
        </ul><hr />
<p><b><a name="binaryArtifactId">binaryArtifactId</a>:</b></p>
        
<div>The artifactId to use for caching in maven repositories. 

<p>Recommended use: do not change</p></div>
        
<ul>
          
<li><b>Type</b>: <tt>java.lang.String</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>Default</b>: <tt>node_modules</tt></li>
        </ul><hr />
<p><b><a name="binaryGroupId">binaryGroupId</a>:</b></p>
        
<div>The groupId under which to cache the npm artifacts in the
repository. 

<p>Recommended use: preferably, do not change; but if you have a
reason to do so, define once per whole project (or company), inside
parent pom's pluginManagement.</p></div>
        
<ul>
          
<li><b>Type</b>: <tt>java.lang.String</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>Default</b>: <tt>npmpack</tt></li>
        </ul><hr />
<p><b><a name="node_modules">node_modules</a>:</b></p>
        
<div>Pointer to node_modules directory. 

<p>Recommended use: do not change if you wish to use npm-based
tools from commandline as well. Otherwise it might be practical to
change this to &quot;${project.build.directory}/node_modules&quot;.</p></div>
        
<ul>
          
<li><b>Type</b>: <tt>java.io.File</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>Default</b>: <tt>node_modules</tt></li>
        </ul><hr />
<p><b><a name="npmExecutables">npmExecutables</a>:</b></p>
        
<div>The executable to run as NPM. By default, we expect that it is
available on PATH.</div>
        
<ul>
          
<li><b>Type</b>: <tt>java.lang.String</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>User Property</b>: <tt>npm.executable</tt></li>
          
<li><b>Default</b>: <tt>npm,npm.cmd</tt></li>
        </ul><hr />
<p><b><a name="npmInstallNotAllowedMsg">npmInstallNotAllowedMsg</a>:</b></p>
        
<div>(no description)</div>
        
<ul>
          
<li><b>Type</b>: <tt>java.lang.String</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>User Property</b>: <tt>npmpack.allowNpmInstall</tt></li>
          
<li><b>Default</b>: <tt>To generate new npmpack, please add option '-Dnpmpack.allowNpmInstall' to your commandline. Remember to upload the resulting pom and binary to your nearest maven repository, so that other users do not need to do the same.</tt></li>
        </ul><hr />
<p><b><a name="packageJson">packageJson</a>:</b></p>
        
<div>Pointer to package.json file. 

<p>Recommended use: do not change</p></div>
        
<ul>
          
<li><b>Type</b>: <tt>java.io.File</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>Default</b>: <tt>package.json</tt></li>
        </ul><hr />
<p><b><a name="unzipCommand">unzipCommand</a>:</b></p>
        
<div>
<p>If specified, npmpack uses this external command to unpack the
binary, instead of internal (java-based) implementation. The
purpose is to allow for a faster unzip if one is available on the
given system.</p>

<p>The command is expected (but not strictly checked to) include
two <tt>%s</tt> placeholders, first for source archive file,
second for the target directory. For example:</p>

<ul>

<li>unzip %s -d %s</li>

<li>C:/bin/unzip.exe -q %s -d %s</li>
</ul>

<p>Method <tt>String.format()</tt> is used to interpolate these
placeholders; feel free to use any of its tricks to achieve desired
results</p>
Note that paths with spaces in them can cause problems due to
escaping.</div>
        
<ul>
          
<li><b>Type</b>: <tt>java.lang.String</tt></li>
          
<li><b>Required</b>: <tt>No</tt></li>
          
<li><b>User Property</b>: <tt>npmpack.unzip</tt></li>
        </ul><hr />
<p><b><a name="workdir">workdir</a>:</b></p>
        
<div>Pointer to the build's working directory.</div>
        
<ul>
          
<li><b>Type</b>: <tt>java.io.File</tt></li>
          
<li><b>Required</b>: <tt>Yes</tt></li>
          
<li><b>Default</b>: <tt>${project.build.directory}</tt></li>
        </ul>
      </div>
    </div>
  

                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
                      <div class="row">
                              <p >Copyright &copy;                    2014&#x2013;2015
                        <a href="http://kozelka.net">Petr Kozelka</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
                <p id="poweredBy" class="pull-right">
                                                                                                                <a href="http://maven.apache.org" title="Apache Maven" class="builtBy">
        <img class="builtBy"  alt="Apache Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                  </p>
        
                </div>
    </footer>
        </body>
</html>
